[{"/Users/madhukar_jha/Documents/learnings/Code/react/Microfrontends/custom-microfrontend/container/src/index.js":"1","/Users/madhukar_jha/Documents/learnings/Code/react/Microfrontends/custom-microfrontend/container/src/App.js":"2","/Users/madhukar_jha/Documents/learnings/Code/react/Microfrontends/custom-microfrontend/container/src/reportWebVitals.js":"3","/Users/madhukar_jha/Documents/learnings/Code/react/Microfrontends/custom-microfrontend/container/src/MicroFrontend.js":"4","/Users/madhukar_jha/Documents/learnings/Code/Microfrontend/microfrontend/custom-microfrontend/container/src/index.js":"5","/Users/madhukar_jha/Documents/learnings/Code/Microfrontend/microfrontend/custom-microfrontend/container/src/App.js":"6","/Users/madhukar_jha/Documents/learnings/Code/Microfrontend/microfrontend/custom-microfrontend/container/src/reportWebVitals.js":"7","/Users/madhukar_jha/Documents/learnings/Code/Microfrontend/microfrontend/custom-microfrontend/container/src/MicroFrontend.js":"8"},{"size":457,"mtime":1611929292578,"results":"9","hashOfConfig":"10"},{"size":1878,"mtime":1611930882534,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":1609664777405,"results":"12","hashOfConfig":"10"},{"size":2601,"mtime":1611896640205,"results":"13","hashOfConfig":"10"},{"size":449,"mtime":1614226586903,"results":"14","hashOfConfig":"15"},{"size":2012,"mtime":1614260695821,"results":"16","hashOfConfig":"15"},{"size":362,"mtime":1614226586904,"results":"17","hashOfConfig":"15"},{"size":2858,"mtime":1614226586903,"results":"18","hashOfConfig":"15"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},"9z7kz4",{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"21"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},"1da8e8w",{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"33"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"42"},"/Users/madhukar_jha/Documents/learnings/Code/react/Microfrontends/custom-microfrontend/container/src/index.js",[],["43","44"],"/Users/madhukar_jha/Documents/learnings/Code/react/Microfrontends/custom-microfrontend/container/src/App.js",["45"],"import React from 'react';\nimport { NavLink, BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport './App.css';\nimport MicroFrontend from './MicroFrontend';\n\nconst {\n  REACT_APP_CONTENT_APP1: subapp1,\n  REACT_APP_CONTENT_APP2: subapp2,\n} = process.env;\n\nconst App1 = ({ history }) => (\n  <MicroFrontend history={history} host={subapp1} name=\"subapp1\" />\n);\nconst App2 = ({ history }) => (\n  <MicroFrontend history={history} host={subapp2} name=\"subapp2\" />\n);\nconst Home = () => (\n  <>\n    <p>Rendered by Container</p>\n  </>\n);\nfunction App() {\n  return (\n    <BrowserRouter>\n      <div style={{ padding: 25, display: \"flex\" }}>\n        <div style={{ padding: \"0px 15px\" }}>\n          <NavLink\n            style={{\n              textDecoration: \"none\",\n              fontWeight: \"bold\",\n              color: \"#282c34\",\n              fontSize: 20\n            }}\n            to=\"/home\"\n          >\n            Home\n          </NavLink>\n        </div>\n        <div style={{ padding: \"0px 15px\" }}>\n          <NavLink\n            style={{\n              textDecoration: \"none\",\n              fontWeight: \"bold\",\n              color: \"#282c34\",\n              fontSize: 20\n            }}\n            to=\"/subapp1\"\n          >\n            SubApp1\n          </NavLink>\n        </div>\n        <div style={{ padding: \"0px 15px\" }}>\n          <NavLink\n            style={{\n              textDecoration: \"none\",\n              fontWeight: \"bold\",\n              color: \"#282c34\",\n              fontSize: 20\n            }}\n            to=\"/subapp2\"\n          >\n            SubApp2\n          </NavLink>\n        </div>\n      </div>\n\n      <Switch>\n        <Route path=\"/home\" component={Home} />\n        <Route path=\"/subapp1\" render={() => <App1 />} />\n        <Route path=\"/subapp2\" render={() => <App2 />} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","/Users/madhukar_jha/Documents/learnings/Code/react/Microfrontends/custom-microfrontend/container/src/reportWebVitals.js",[],"/Users/madhukar_jha/Documents/learnings/Code/react/Microfrontends/custom-microfrontend/container/src/MicroFrontend.js",["46"],"import React from 'react';\n\nclass MicroFrontend extends React.Component {\n  componentDidMount() {\n    const { name, host, document } = this.props;\n    const scriptId = `micro-frontend-script-${name}`;\n\n    if (document.getElementById(scriptId)) {\n      this.renderMicroFrontend();\n      return;\n    }\n\n    fetch(`${host}/asset-manifest.json`)\n      .then(res => res.json())\n      .then(manifest => {\n        manifest[\"entrypoints\"].map((entry => {\n          if (typeof manifest[\"files\"][entry] !== \"undefined\" && manifest[\"files\"][entry] !== \"undefined\") {\n            if (entry.endsWith('.css')) {\n              const link = document.createElement('link');\n              link.id = scriptId;\n              link.href = `${process.env.NODE_ENV === \"production\" ? host.slice(0, host.lastIndexOf('/')) : host}${manifest[\"files\"][entry]}`;\n              link.onload = this.renderMicroFrontend;\n              link.rel = \"stylesheet\"\n              document.head.appendChild(link);\n            }\n            const script = document.createElement('script');\n            script.id = scriptId;\n            script.crossOrigin = '';\n            script.src = `${process.env.NODE_ENV === \"production\" ? host.slice(0, host.lastIndexOf('/')) : host}${manifest[\"files\"][entry]}`;\n            script.onload = this.renderMicroFrontend;\n            document.head.appendChild(script);\n          }\n        })\n        )\n        const script = document.createElement('script');\n        script.id = scriptId;\n        script.crossOrigin = '';\n        script.src = `${process.env.NODE_ENV === \"production\" ? host.slice(0, host.lastIndexOf('/')) : host}${manifest[\"files\"][\"main.js\"]}`;\n        script.onload = this.renderMicroFrontend;\n        document.head.appendChild(script);\n        const link = document.createElement('link');\n        link.id = scriptId;\n        link.href = `${process.env.NODE_ENV === \"production\" ? host.slice(0, host.lastIndexOf('/')) : host}${manifest[\"files\"][\"main.css\"]}`;\n        link.onload = this.renderMicroFrontend;\n        link.rel = \"stylesheet\"\n        document.head.appendChild(link);\n      });\n  }\n\n  componentWillUnmount() {\n    const { name, window } = this.props;\n\n    window[`unmount${name}`] && window[`unmount${name}`](`${name}-container`);\n  }\n\n  renderMicroFrontend = () => {\n    const { name, window, history } = this.props;\n\n    window[`render${name}`] && window[`render${name}`](`${name}-container`, history);\n  };\n\n  render() {\n    return <main id={`${this.props.name}-container`} />;\n  }\n}\n\nMicroFrontend.defaultProps = {\n  document,\n  window,\n};\n\nexport default MicroFrontend;",["47","48"],"/Users/madhukar_jha/Documents/learnings/Code/Microfrontend/microfrontend/custom-microfrontend/container/src/index.js",[],["49","50"],"/Users/madhukar_jha/Documents/learnings/Code/Microfrontend/microfrontend/custom-microfrontend/container/src/App.js",["51"],"import React from \"react\";\nimport {\n  NavLink,\n  BrowserRouter,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport \"./App.css\";\nimport MicroFrontend from \"./MicroFrontend\";\n\nconst {\n  REACT_APP_CONTENT_APP1: subapp1,\n  REACT_APP_CONTENT_APP2: subapp2,\n} = process.env;\n\nconst App1 = ({ history }) => (\n  <MicroFrontend history={history} host={subapp1} name=\"subapp1\" />\n);\nconst App2 = ({ history }) => (\n  <MicroFrontend history={history} host={subapp2} name=\"subapp2\" />\n);\nconst Home = () => (\n  <>\n    <p>Rendered by Container</p>\n  </>\n);\nconst getRandomRestaurantId = () =>\n  Math.floor(Math.random() * 100) + 1;\nfunction App() {\n  return (\n    <BrowserRouter>\n      <div style={{ padding: 25, display: \"flex\" }}>\n        <div style={{ padding: \"0px 15px\" }}>\n          <NavLink\n            style={{\n              textDecoration: \"none\",\n              fontWeight: \"bold\",\n              color: \"#282c34\",\n              fontSize: 20,\n            }}\n            to=\"/home\"\n          >\n            Home\n          </NavLink>\n        </div>\n        <div style={{ padding: \"0px 15px\" }}>\n          <NavLink\n            style={{\n              textDecoration: \"none\",\n              fontWeight: \"bold\",\n              color: \"#282c34\",\n              fontSize: 20,\n            }}\n            to={`/subapp1/${getRandomRestaurantId()}`}\n       \n          >\n            SubApp1\n          </NavLink>\n        </div>\n        <div style={{ padding: \"0px 15px\" }}>\n          <NavLink\n            style={{\n              textDecoration: \"none\",\n              fontWeight: \"bold\",\n              color: \"#282c34\",\n              fontSize: 20,\n            }}\n            to=\"/subapp2\"\n          >\n            SubApp2\n          </NavLink>\n        </div>\n      </div>\n\n      <Switch>\n        <Route path=\"/home\" component={Home} />\n        <Route path=\"/subapp1/:param1\" render={() => <App1 />} />\n        <Route path=\"/subapp2\" render={() => <App2 />} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","/Users/madhukar_jha/Documents/learnings/Code/Microfrontend/microfrontend/custom-microfrontend/container/src/reportWebVitals.js",[],"/Users/madhukar_jha/Documents/learnings/Code/Microfrontend/microfrontend/custom-microfrontend/container/src/MicroFrontend.js",["52"],"import React from \"react\";\n\nclass MicroFrontend extends React.Component {\n  componentDidMount() {\n    const { name, host, document } = this.props;\n    const scriptId = `micro-frontend-script-${name}`;\n\n    if (document.getElementById(scriptId)) {\n      this.renderMicroFrontend();\n      return;\n    }\n\n    fetch(`${host}/asset-manifest.json`)\n      .then((res) => res.json())\n      .then((manifest) => {\n        manifest[\"entrypoints\"].map((entry) => {\n          if (\n            typeof manifest[\"files\"][entry] !== \"undefined\" &&\n            manifest[\"files\"][entry] !== \"undefined\"\n          ) {\n            if (entry.endsWith(\".css\")) {\n              const link = document.createElement(\"link\");\n              link.id = scriptId;\n              link.href = `${\n                process.env.NODE_ENV === \"production\"\n                  ? host.slice(0, host.lastIndexOf(\"/\"))\n                  : host\n              }${manifest[\"files\"][entry]}`;\n              link.onload = this.renderMicroFrontend;\n              link.rel = \"stylesheet\";\n              document.head.appendChild(link);\n            }\n            const script = document.createElement(\"script\");\n            script.id = scriptId;\n            script.crossOrigin = \"\";\n            script.src = `${\n              process.env.NODE_ENV === \"production\"\n                ? host.slice(0, host.lastIndexOf(\"/\"))\n                : host\n            }${manifest[\"files\"][entry]}`;\n            script.onload = this.renderMicroFrontend;\n            document.head.appendChild(script);\n          }\n        });\n        const script = document.createElement(\"script\");\n        script.id = scriptId;\n        script.crossOrigin = \"\";\n        script.src = `${\n          process.env.NODE_ENV === \"production\"\n            ? host.slice(0, host.lastIndexOf(\"/\"))\n            : host\n        }${manifest[\"files\"][\"main.js\"]}`;\n        script.onload = this.renderMicroFrontend;\n        document.head.appendChild(script);\n        const link = document.createElement(\"link\");\n        link.id = scriptId;\n        link.href = `${\n          process.env.NODE_ENV === \"production\"\n            ? host.slice(0, host.lastIndexOf(\"/\"))\n            : host\n        }${manifest[\"files\"][\"main.css\"]}`;\n        link.onload = this.renderMicroFrontend;\n        link.rel = \"stylesheet\";\n        document.head.appendChild(link);\n      });\n  }\n\n  componentWillUnmount() {\n    const { name, window } = this.props;\n\n    window[`unmount${name}`] && window[`unmount${name}`](`${name}-container`);\n  }\n\n  renderMicroFrontend = () => {\n    const { name, window, history } = this.props;\n\n    window[`render${name}`] &&\n      window[`render${name}`](`${name}-container`, history);\n  };\n\n  render() {\n    return <main id={`${this.props.name}-container`} />;\n  }\n}\n\nMicroFrontend.defaultProps = {\n  document,\n  window,\n};\n\nexport default MicroFrontend;\n",["53","54"],{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","severity":1,"message":"60","line":2,"column":49,"nodeType":"61","messageId":"62","endLine":2,"endColumn":57},{"ruleId":"63","severity":1,"message":"64","line":16,"column":44,"nodeType":"65","messageId":"66","endLine":16,"endColumn":46},{"ruleId":"55","replacedBy":"67"},{"ruleId":"57","replacedBy":"68"},{"ruleId":"55","replacedBy":"69"},{"ruleId":"57","replacedBy":"70"},{"ruleId":"59","severity":1,"message":"60","line":7,"column":3,"nodeType":"61","messageId":"62","endLine":7,"endColumn":11},{"ruleId":"63","severity":1,"message":"64","line":16,"column":45,"nodeType":"65","messageId":"66","endLine":16,"endColumn":47},{"ruleId":"55","replacedBy":"71"},{"ruleId":"57","replacedBy":"72"},"no-native-reassign",["73"],"no-negated-in-lhs",["74"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside",["73"],["74"],["73"],["74"],["73"],["74"],"no-global-assign","no-unsafe-negation"]